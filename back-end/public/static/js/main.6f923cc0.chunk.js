(this.webpackJsonpmovie_time=this.webpackJsonpmovie_time||[]).push([[0],{43:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},84:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(18),r=s.n(c),o=s(4),i=s(5),l=s(7),j=s(6),d=s(13),h=s(3),u=s(0),m=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).changeName=function(t){e.setState({name:t.target.value})},e.state={name:""},e}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return console.log("changeName",this.state.name),Object(u.jsxs)("div",{class:"input-group mb-3 pt-5",children:[Object(u.jsx)("input",{type:"text",class:"form-control",placeholder:"Type a movie's name","aria-label":"Recipient's username","aria-describedby":"button-addon2",onChange:this.changeName}),Object(u.jsx)("button",{class:"btn btn-outline-primary",type:"button",id:"button-addon2",onClick:function(){return e.props.getMovie(e.state.name)},children:"Search"})]})}}]),s}(a.Component),b=(s(43),function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("img",{src:this.props.image}),Object(u.jsx)("h5",{className:"card-title",children:this.props.title}),Object(u.jsx)("p",{children:this.props.description}),Object(u.jsx)("p",{children:this.props.support}),Object(u.jsx)("p",{children:this.props.name}),Object(u.jsx)("p",{children:this.props.whereToFind})]})}}]),s}(n.a.Component)),p=(s(44),function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"Card2",children:[Object(u.jsx)("img",{src:this.props.image}),Object(u.jsxs)("p",{children:[" Title :  ",this.props.title]}),Object(u.jsxs)("p",{children:[" Description :  ",this.props.description]}),Object(u.jsxs)("p",{children:[" Adult :  ",this.props.adult?"yes":"no"]}),Object(u.jsxs)("p",{children:["Note :  ",this.props.note]}),Object(u.jsxs)("p",{children:["Number of votes so far :  ",this.props.voteCount]}),Object(u.jsxs)("p",{children:["Genres :  ",this.props.genre]}),Object(u.jsxs)("p",{children:["Authors :  ",this.props.author]}),Object(u.jsxs)("p",{children:["Actors :  ",this.props.actor]}),Object(u.jsxs)("p",{children:["Release Date :  ",this.props.releaseDate]}),Object(u.jsxs)("p",{children:["Support :  ",this.props.support]}),Object(u.jsxs)("p",{children:["Where to find : ",this.props.whereToFind]}),Object(u.jsxs)("p",{children:["Original Language :  ",this.props.originalLanguage]})]})}}]),s}(n.a.Component)),O=(s(45),function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).getMovie=function(t){fetch("/movies/".concat(t)).then((function(e){return e.json()})).then((function(t){console.log("result",t),t?e.setState({movies:[t]}):e.setState({movies:[]})}))},e.state={movies:[]},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"getMovies",value:function(){var e=this;fetch("/movies/10").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({movies:t})}))}},{key:"render",value:function(){return this.state.movies.length>0?Object(u.jsxs)("div",{children:[Object(u.jsx)(m,{getMovie:this.getMovie}),1===this.state.movies.length&&Object(u.jsx)(u.Fragment,{children:this.state.movies.map((function(e){return Object(u.jsx)(p,{title:e.title,description:e.description,image:e.image,releaseDate:e.releaseDate,genre:e.genre.map((function(e){return e.name})).join(", "),author:e.author.map((function(e){return e.name})).join(" "),actor:e.actor.map((function(e){return e.name})).join(", "),support:e.adress.map((function(e){return e.type})).join(", "),whereToFind:e.adress.map((function(e){return e.adress})).join(", "),originalLanguage:e.originalLanguage.map((function(e){return e.name})).join(" "),note:e.note,voteCount:e.voteCount})}))}),this.state.movies.length>1&&Object(u.jsx)("div",{className:" container-card",children:this.state.movies.map((function(e){return Object(u.jsx)(b,{title:e.title,description:e.description,image:e.image,support:e.adress.map((function(e){return e.type})).join(", "),whereToFind:e.adress.map((function(e){return e.adress})).join(", ")})}))})]}):Object(u.jsx)("div",{children:"data processing"})}}]),s}(a.Component)),x=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"pt-5",children:[Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"text-center pt-5",children:"Contact us"}),Object(u.jsx)("h3",{className:" text-info text-center pt-5",children:" Gaelle Petit"}),Object(u.jsxs)("h3",{className:"text-center pt-1",children:["gaelle.petit@konexio.eu ",Object(u.jsx)("br",{}),"07 71 74 83 88"]})]}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h3",{className:"text-info text-center pt-5",children:"Leandro Fernandez"}),Object(u.jsx)("h3",{className:"text-center pt-1",children:"leandro.fernandez@konexio.eu"})]})]})}}]),s}(a.Component),v=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"pt-5",children:[Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"text-center pt-5",children:"Final project with Konexio"}),Object(u.jsx)("h3",{className:" text-info text-center pt-5",children:"Attendees"}),Object(u.jsx)("h3",{className:"text-center pt-1",children:"Suleman, Lucas, Mehdi, Faruk"})]}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h3",{className:"text-info text-center pt-5",children:"Languages and frameworks"}),Object(u.jsx)("h3",{className:"text-center pt-1",children:"HTML/CSS, Javascript: Node and React"})]})]})}}]),s}(a.Component),f=s(19),g=s.n(f),N=s(15),y=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={genres:[],selectedGenre:[],actors:[],selectedActor:[],authors:[],selectedAuthor:[],adresss:[],selectedAdressType:[],selectedAdressTypeName:[],selectedAdressAdress:[]},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){this.getGenre(),this.getActor(),this.getAuthor(),this.getAdress()}},{key:"getGenre",value:function(){var e=this;fetch("http://localhost:8000/genres").then((function(e){return e.json()})).then((function(t){if(console.log("test genres",t),t){var s=t.map((function(e){return{value:e._id,label:e.name}}));e.setState({genres:s})}else alert("There was a problem")}))}},{key:"getActor",value:function(){var e=this;fetch("http://localhost:8000/actors").then((function(e){return e.json()})).then((function(t){if(console.log("test actors",t),t){var s=t.map((function(e){return{value:e._id,label:e.name}}));e.setState({actors:s})}else alert("There was a problem")}))}},{key:"getAuthor",value:function(){var e=this;fetch("http://localhost:8000/authors").then((function(e){return e.json()})).then((function(t){if(console.log("test authors",t),t){var s=t.map((function(e){return{value:e._id,label:e.name}}));e.setState({authors:s})}else alert("There was a problem")}))}},{key:"getAdress",value:function(){var e=this;fetch("http://localhost:8000/adress").then((function(e){return e.json()})).then((function(t){if(console.log("test adress",t),t){var s=t.map((function(e){return{value:e._id,label:e.adress}}));e.setState({adresss:s})}else alert("There was a problem")}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"row pt-4",children:Object(u.jsx)("div",{className:"offset-3 col-6 mx-auto",children:Object(u.jsx)("div",{className:"alert alert-dark",role:"success",children:Object(u.jsx)("h3",{className:"text-center",children:"Add a new movie here !"})})})}),Object(u.jsx)("div",{className:"row"}),Object(u.jsxs)("div",{className:"pt-3 offset-3 col-6 mx-auto",children:[Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"title",className:"col-sm-4 col-form-label",children:"Title :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"text",className:"form-control",id:"title"})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"originalLanguage",className:"col-sm-4 col-form-label",children:"Original Languages :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"objectId",className:"form-control",id:"originalLanguage"})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"description",className:"col-sm-4 col-form-label",children:"Descriptions :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"text",className:"form-control",id:"description"})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"image",className:"col-sm-4 col-form-label",children:"Image :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"text",className:"form-control",id:"image"})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"actor",className:"col-sm-4 col-form-label",children:"Actors :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)(N.a,{isMulti:!0,options:this.state.actors,onChange:function(t){return e.setState({selectedActor:t})}})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"author",className:"col-sm-4 col-form-label",children:"Authors :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)(N.a,{isMulti:!0,options:this.state.authors,onChange:function(t){return e.setState({selectedAuthor:t})}})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"releaseDate",className:"col-sm-4 col-form-label",children:"Release Date :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"text",className:"form-control",id:"releaseDate"})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"note",className:"col-sm-4 col-form-label",children:"Notes :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"number",className:"form-control",id:"note"})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"voteCount",className:"col-sm-4 col-form-label",children:"Vote counts :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"number",className:"form-control",id:"voteCount"})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"adress",className:"col-sm-4 col-form-label",children:"Adresses :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)(N.a,{isMulti:!0,options:this.state.adresss,onChange:function(t){return e.setState({selectedAdressType:t})}})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"adress",className:"col-sm-4 col-form-label",children:"Adresses :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)(N.a,{isMulti:!0,options:this.state.adresss,onChange:function(t){return e.setState({selectedAdressTypeName:t})}})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"adress",className:"col-sm-4 col-form-label",children:"Adresses :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)(N.a,{isMulti:!0,options:this.state.adresss,onChange:function(t){return e.setState({selectedAdressAdress:t})}})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"genre",className:"col-sm-4 col-form-label",children:"Genres :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)(N.a,{isMulti:!0,options:this.state.genres,onChange:function(t){return e.setState({selectedGenre:t})}})})]}),Object(u.jsxs)("div",{className:"mb-2 row",children:[Object(u.jsx)("label",{htmlFor:"adult",className:"col-sm-4 col-form-label",children:"Adults :"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"boolean",className:"form-control",id:"adult"})})]}),Object(u.jsx)("div",{className:"mb-2 row",children:Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("button",{className:"btn-success",type:"button",id:"button-addon2",onClick:this.addMovie,children:"Add this Movie"})})})]})]})}}]),s}(a.Component),k=s(17),w=s.n(k),S=s(22),C=s(14),A=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={username:"",password:""},e.getLogin=e.getLogin.bind(Object(C.a)(e)),e}return Object(i.a)(s,[{key:"getLogin",value:function(){var e=Object(S.a)(w.a.mark((function e(){var t,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:8000/auth/login",e.next=4,g.a.post("http://localhost:8000/auth/login",{username:this.state.username,password:this.state.password});case 4:t=e.sent,s=t.data,console.log(s),localStorage.setItem("token",s.token),this.props.history.push("/"),window.location.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("errror",e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{className:"pt-5",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"text-center pt-5",children:"Already subscribed? Please Log in"}),Object(u.jsx)("div",{className:"input-group pt-5",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Name","aria-label":"Name","aria-describedby":"button-addon2",onChange:function(t){return e.setState({username:t.target.value})}})}),Object(u.jsx)("div",{className:"input-group pt-5",children:Object(u.jsx)("input",{type:"password",className:"form-control",placeholder:"password","aria-label":"Name","aria-describedby":"button-addon2",onChange:function(t){return e.setState({password:t.target.value})}})}),Object(u.jsx)("div",{className:"d-flex justify-content-center pt-4",children:Object(u.jsx)("button",{className:"btn btn-secondary",onClick:function(){return e.getLogin()},children:"log in"})})]})})}}]),s}(a.Component),F=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={username:"",password:"",errors:[]},e.getSignup=e.getSignup.bind(Object(C.a)(e)),e.validateForm=e.validateForm.bind(Object(C.a)(e)),e}return Object(i.a)(s,[{key:"validateForm",value:function(){var e=[];return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{4,}$/.test(this.state.password)||e.push("Passwords must have at least 4 characters, 1 number, 1 upper and 1 lowercase"),e}},{key:"getSignup",value:function(){var e=Object(S.a)(w.a.mark((function e(){var t,s,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.validateForm(),console.log("test validationerrors: ",t),0!==t.length){e.next=15;break}return alert("you are now registred, please login !"),"http://localhost:8000/auth/signup",e.next=8,g.a.post("http://localhost:8000/auth/signup",{username:this.state.username,password:this.state.password});case 8:s=e.sent,a=s.data,console.log(a),localStorage.setItem("token",a.token),this.props.history.push("/login"),e.next=16;break;case 15:this.setState({errors:t});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log("errror",e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;this.props.alert;return Object(u.jsxs)("div",{className:"pt-5",children:[this.state.errors&&Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"offset-3 col-6 mx-auto",children:this.state.errors.map((function(e){return Object(u.jsx)("div",{className:"alert alert-danger",role:"alert",children:e})}))})})}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"text-center pt-5",children:"Didn't register yet? Please Sign Up"}),Object(u.jsx)("div",{className:"input-group pt-5",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Name","aria-label":"Name","aria-describedby":"button-addon2",onChange:function(t){return e.setState({username:t.target.value})}})}),Object(u.jsx)("div",{class:"input-group pt-5",children:Object(u.jsx)("input",{type:"password",className:"form-control",placeholder:"password","aria-label":"Name","aria-describedby":"button-addon2",onChange:function(t){return e.setState({password:t.target.value})}})}),Object(u.jsx)("div",{className:"d-flex justify-content-center pt-4",children:Object(u.jsx)("button",{className:"btn btn-secondary",onClick:function(){return e.getSignup()},children:"Sign up"})})]})]})}}]),s}(a.Component),T=(s(79),function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={userToken:e.getLocalStorage(),informDisconnection:!1},e}return Object(i.a)(s,[{key:"getLocalStorage",value:function(){return localStorage.getItem("token")||""}},{key:"logOut",value:function(){var e=this;localStorage.removeItem("token"),this.setState({userToken:"",informDisconnection:!0}),setTimeout((function(){e.setState({informDisconnection:!1})}),3e3)}},{key:"render",value:function(){var e=this;return Object(u.jsx)(d.a,{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("h3",{className:"text-danger",to:"/",children:"MovieTime"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"float-sm-end"}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02",children:Object(u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(d.b,{to:"/",className:"nav-link active",children:"Homepage"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(d.b,{to:"/contact",className:"nav-link",children:"Contact"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(d.b,{to:"/about",className:"nav-link",children:"About"})}),""===this.state.userToken?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(d.b,{to:"/login",className:"nav-link",children:"Log In"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(d.b,{to:"/signup",className:"nav-link",children:"Sign Up"})})]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(d.b,{to:"",className:"nav-link",onClick:function(){return e.logOut()},children:"Log Out"})})})]})})]})]})}),this.state.informDisconnection&&Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"offset-3 col-6 mx-auto",children:Object(u.jsx)("div",{className:"alert alert-danger",role:"alert",children:"User logged out successfully !"})})}),Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{exact:!0,path:"/",component:O}),Object(u.jsx)(h.a,{exact:!0,path:"/contact",component:x}),Object(u.jsx)(h.a,{exact:!0,path:"/about",component:v}),Object(u.jsx)(h.a,{exact:!0,path:"/add-movies",component:y}),Object(u.jsx)(h.a,{exact:!0,path:"/login",component:A}),Object(u.jsx)(h.a,{exact:!0,path:"/signup",component:F})]})]})})}}]),s}(a.Component));r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.6f923cc0.chunk.js.map